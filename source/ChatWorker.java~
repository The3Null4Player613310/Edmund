import java.net.*;
import java.io.*;

public class ChatWorker implements Runnable
{

    Socket clientSocket;
    BufferedReader dataStream;


    public ChatWorker(Socket socket)
    {
        clientSocket = socket;
        try
        {
            dataStream = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));
        }
        catch(IOException ie)
        {
            ie.printStackTrace();
            Server.isRunning = false;
        }
    }

    public void run()
    {
        String data = null;
        do
        {
            try
            {
               data = dataStream.readLine();
            }
            catch(IOException ie)
            {
                ie.printStackTrace();
                Server.isRunning = false;
            }

            if(!(data == null))
            {
                System.out.println(data);
            }
        }while((!(data == null)) && Server.isRunning);

        //close socket here
            try
            {
            clientSocket.close();
            }
            catch(Exception ex)
            {
                ex.printStackTrace();
            }
    }
}